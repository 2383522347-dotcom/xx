机电一体化英文学习 — 使用说明

【云端存储、任意设备同步】本账户下所有信息（金币、签到、学习记录、已学单词、词汇等级等）均保存在云端。只要用同一网址登录同一账号，不论什么设备、什么浏览器，都会实时同步，无需依赖本机数据。

■ 一次性部署（约 5 分钟，仅需做一次）

  • 若用 GitHub 导入：请先看本文件夹里的「GitHub上传与Vercel部署.md」。若电脑未安装 Git，请直接看「无Git上传说明.txt」用网页上传到 GitHub，再在 Vercel 里 Import 该仓库。

  1. 注册 Vercel（https://vercel.com）和 Upstash（https://upstash.com），均免费。
  2. 在 Upstash 创建一个 Redis 数据库，在控制台复制「REST URL」和「Token」。
  3. 在 Vercel 导入本项目（或从 GitHub 导入你的仓库），在项目设置 → Environment Variables 中添加：
     • UPSTASH_REDIS_REST_URL = 刚才复制的 REST URL
     • UPSTASH_REDIS_REST_TOKEN = 刚才复制的 Token
  4. 重新部署（Redeploy）后，记下 Vercel 给的链接（例如 https://xxx.vercel.app）。

■ 日常使用（手机 / 电脑 / 平板）

  • 在手机、电脑、平板上都打开「同一个 Vercel 链接」。
  • 登录同一账号。
  • 签到、学词、金币等会自动同步，无需其他操作。

  您执行的操作只有：打开网页 → 登入账号。

■ 重要：电脑注册的账号，手机必须用「同一链接」才能登录

  账号是保存在「当前同步地址」对应的服务器上的，不是保存在本机。
  • 若电脑用 http://localhost:3000（或 run.bat）、手机用 https://xxx.vercel.app：相当于两套服务器，电脑注册的账号只存在电脑那台服务器上，手机问的是 Vercel，所以会提示「账号不存在」。解决办法：电脑和手机都打开同一个网址（例如都打开 Vercel 链接）。
  • 若电脑和手机都打开 Vercel 链接，但手机仍提示「账号不存在」：多半是 Vercel 项目里没有配置 Upstash Redis。未配置时账号只存在内存里，不同请求可能打到不同实例，账号不会持久保存。解决办法：在 Vercel 项目设置 → Environment Variables 中添加 UPSTASH_REDIS_REST_URL 和 UPSTASH_REDIS_REST_TOKEN，然后重新部署（Redeploy）。完成后在电脑重新注册或登录一次，再在手机用同一链接登录即可。
  登录页会显示「当前同步地址」，请确认电脑和手机打开的地址完全一致。

——————————————————————————————————————

【不部署、仅本机使用】

  若暂时不部署，也可以直接打开网页使用，数据只保存在本机浏览器内：

  • 双击「index.html」，或
  • 双击「run.bat」（Windows）或「run.command」（Mac，首次可右键→打开）

  此时无法在手机/平板和电脑之间同步；要三端同步，请按上面步骤完成一次性部署。

——————————————————————————————————————

【为什么退出再登录 / 换手机登录金币没了？】

  金币等数据会存到「本机按账号」和「云端」两处，登录时优先从云端恢复，没有再从本机恢复。

  • 退出再登录、同一台电脑同一浏览器：一般会从本机恢复，金币应在。若没了，可能是曾清除过浏览器数据，或有时用「直接双击 index.html」、有时用「run.bat / 网页地址」打开——两种方式的数据不互通，请以后固定用同一种方式（推荐用同一网址）。
  • 换手机 / 换电脑登录：必须「云端」有数据才行。请务必：
    1) 始终用「同一个网址」打开（例如 Vercel 链接或 npm start 后的地址），不要混用 file:// 和网页地址；
    2) 部署在 Vercel 时一定要按上面步骤配置 Upstash Redis，否则云端不持久化，换设备就看不到之前的金币。
  总结：想手机和电脑金币一致，就用同一链接打开并登录，且 Vercel 项目里配好 Upstash。
