# 手机/平板/多设备 与 账号实时同步

## 1. 手机与平板打开

- 网站已做**响应式**，手机、平板、电脑均可直接打开同一地址使用。
- 建议将网站部署到 **HTTPS 域名**（如 `https://你的域名.com`），在手机/平板浏览器输入该地址即可；也可用内网穿透（如 ngrok、frp）在局域网或外网访问。

**前端适配说明：**

- 已加 `viewport`、`theme-color`、`apple-mobile-web-app-*` 等 meta，便于移动端全屏/状态栏。
- 平板（≤1024px）：模块网格 2 列、缩小内边距。
- 手机（≤768px）：模块单列、顶部栏可折行、按钮最小 44px 便于触控。
- 小屏（≤480px）：进一步缩小字体与间距。
- 输入框字体 ≥16px，减少 iOS 自动放大。

## 2. 账号与学习数据实时同步（多设备一致）

**一键启动（推荐）**

本仓库已自带同步接口，无需在 app.js 里填任何地址：

```bash
cd 机电一体化英文学习
npm install
npm start
```

然后打开 **http://localhost:3000**。此时网站和同步接口在同一服务下，前端会**自动使用同源 `/api`**，登录、签到、学词、金币等会在多设备间实时同步。

- **电脑**：浏览器访问 http://localhost:3000
- **手机/平板**：同一 WiFi 下访问 http://你的电脑IP:3000（如 http://192.168.1.100:3000）

数据会保存在项目目录下的 **sync-data.json**，重启服务数据仍在。

**若单独只打开 index.html（不通过 server.js）**

- 页面为 `file://` 或其它静态服务器时，不会请求同步接口，仅使用浏览器本地数据，换设备不同步。

**同步 API 约定（已由 server.js 实现）**

- 接口：`POST /api/sync`
- 拉取：请求体 `{ "username", "password" }`，响应 `{ "data": { ... } }`
- 保存：请求体 `{ "username", "password", "data": { ... } }`，响应 `{ "ok": true, "data": { ... } }`
- 400：缺少 username 或 password；401：密码错误

**生产环境建议**

- 部署到 **HTTPS** 域名，再用手机/平板访问该域名即可同步。
- 需要更大规模时，可将 server.js 中的 JSON 文件存储改为数据库（如 SQLite、MongoDB）。
